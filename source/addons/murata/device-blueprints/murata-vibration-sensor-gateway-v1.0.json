{
    "id": "murata-vibration-sensor-gateway-v1.0",
    "name": "Murata Vibration Sensor Gateway v1.0",
    "type": "GREENGRASS",
    "compatibility": ["raspberry-pi-3-v1.0", "raspberry-pi-3-sense-hat-v1.0", "intel-up2-v1.0"],
    "deviceTypeMappings": [],
    "spec": {
        "FunctionDefinitionVersion": {
            "Functions": [{
                "FunctionArn": "arn:aws:lambda:[AWS_REGION]:[AWS_ACCOUNT]:function:murata-vibration-sensor-gateway-main-lambda-python:Prod",
                "FunctionConfiguration": {
                    "EncodingType": "json",
                    "Environment": {
                        "AccessSysfs": true,
                        "ResourceAccessPolicies": [{
                            "Permission": "rw",
                            "ResourceId": "usb-dongle"
                        }],
                        "Variables": {
                            "SERIAL_PORT": "/dev/ttyUSB0"
                        }
                    },
                    "MemorySize": 262144,
                    "Pinned": true,
                    "Timeout": 25
                }
            }]
        },
        "ResourceDefinitionVersion": {
            "Resources": [{
                "Id": "usb-dongle",
                "Name": "usb-dongle",
                "ResourceDataContainer": {
                    "LocalDeviceResourceData": {
                        "GroupOwnerSetting": {
                            "AutoAddGroupOwner": true
                        },
                        "SourcePath": "/dev/ttyUSB0"
                    }
                }
            }]
        },
        "SubscriptionDefinitionVersion": {
            "Subscriptions": [{
                "Source": "arn:aws:lambda:[AWS_REGION]:[AWS_ACCOUNT]:function:murata-vibration-sensor-gateway-main-lambda-python:Prod",
                "Target": "cloud",
                "Subject": "murata/[CORE]/+/data"
            }, {
                "Source": "GGShadowService",
                "Subject": "$aws/things/[CORE]/shadow/update/delta",
                "Target": "arn:aws:lambda:[AWS_REGION]:[AWS_ACCOUNT]:function:murata-vibration-sensor-gateway-main-lambda-python:Prod"
            }, {
                "Source": "GGShadowService",
                "Subject": "$aws/things/[CORE]/shadow/update/accepted",
                "Target": "arn:aws:lambda:[AWS_REGION]:[AWS_ACCOUNT]:function:murata-vibration-sensor-gateway-main-lambda-python:Prod"
            }]
        }
    }
}
